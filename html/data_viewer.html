<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>WebInsight - IndexedDB Data Viewer</title>
    <link rel="stylesheet" href="../css/data_viewer.css">
</head>
<body>
    <div class="container">
        <h1>WebInsight IndexedDB Data</h1>
        <p>This page displays the raw data currently stored in the extension's IndexedDB database for debugging purposes.</p>
        <button id="refreshDataBtn">Refresh Data</button>
        <hr>

        <section>
            <h2><code>contentItems</code> Store</h2>
            <button class="exportBtn" id="exportContentItemsBtn" data-messagetype="GET_ALL_SAVED_CONTENT" data-filename="contentItems_export.json">Export JSON</button> {/* Added Export Button */}
            <pre><code id="contentItemsJson">Loading...</code></pre>
        </section>

        <hr>

        <section>
            <h2><code>tags</code> Store</h2>
            <button class="exportBtn" id="exportTagsBtn" data-messagetype="GET_ALL_TAGS" data-filename="tags_export.json">Export JSON</button> {/* Added Export Button */}
            <pre><code id="tagsJson">Loading...</code></pre>
        </section>

        <hr>

        <section>
            <h2><code>contentTags</code> Store (Links)</h2>
             <button class="exportBtn" id="exportContentTagsBtn" data-messagetype="GET_ALL_CONTENT_TAGS" data-filename="contentTags_export.json">Export JSON</button> {/* Added Export Button */}
            <pre><code id="contentTagsJson">Loading...</code></pre>
        </section>

    </div>

    <script src="../js/data_viewer.js"></script>
</body>
</html>